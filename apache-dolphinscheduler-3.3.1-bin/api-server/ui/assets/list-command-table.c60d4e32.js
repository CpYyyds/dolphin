import{d as g,u,E as f,r as m,o as h,H as y,I as k,c as n,h as e}from"./index.02a17cf1.js";import{C as b}from"./index.ef447d1d.js";import{D as T,C as p,c as D}from"./column-width-config.03ebcd18.js";import{u as C}from"./index.9b0cc109.js";import{q as $}from"./index.b5f8acb4.js";import{N as d}from"./Space.8a344b95.js";import{N as I,a as S}from"./DataTable.ddc5a79d.js";import"./Card.f8db533a.js";import"./resolve-slot.92499a18.js";import"./index.5f9a33e7.js";import"./keysOf.843c523b.js";import"./lodash.3a74b132.js";import"./service.ade35c11.js";import"./ui-setting.7e6814b1.js";import"./is-browser.e7afaa57.js";import"./flatten.8ad131a2.js";import"./get-slot.eeb09d52.js";import"./ArrowDown.fd6213c2.js";import"./format-length.a6a40b1f.js";import"./Button.1b3ea9f7.js";import"./use-form-item.96cfc8ba.js";import"./Scrollbar.988383de.js";import"./VResizeObserver.f80d6e55.js";import"./Checkbox.c8f5c3b1.js";import"./use-merged-state.2bdc3563.js";import"./RadioGroup.7b709552.js";import"./Radio.4578e023.js";import"./Popover.92dc7b00.js";import"./index.8a81335d.js";import"./use-false-until-truthy.e57d8f60.js";import"./_baseMap.d8d47059.js";import"./get.852d0cd9.js";import"./cssr.f561ccf0.js";import"./utils.eff12f29.js";import"./use-compitable.cd47f4ac.js";import"./next-frame-once.50ecadf2.js";import"./Suffix.62982c61.js";import"./Dropdown.de4044d8.js";import"./Icon.0cd298dd.js";import"./ChevronRight.d1d16011.js";import"./Select.51d2f90f.js";import"./fade-in-scale-up.cssr.d8408fe5.js";import"./use-locale.47aab0f5.js";import"./Empty.249462a1.js";import"./index.21198e00.js";import"./use-keyboard.8f9f6db8.js";import"./Ellipsis.eed9f363.js";import"./Tooltip.76a430fa.js";import"./Input.59461546.js";import"./Forward.b8f2636c.js";const Ct=g({name:"list-command-table",setup(){const{t:a}=u(),i=f({columns:[],tableWidth:T,tableData:[],page:m(1),pageSize:m(10),userName:m(null),totalPage:m(1),loadingRef:m(!1)}),s=r=>{r.columns=[{title:"ID",key:"id",...p.index},{title:a("monitor.statistics.command_type"),key:"commandType",...p.name},{title:a("monitor.statistics.command_param"),key:"commandParam",...p.linkName},{title:a("monitor.statistics.task_info"),key:"id",width:300,render:t=>e("div",[`Definition Code\uFF1A${t.workflowDefinitionCode} `,e("br"),`Definition Version\uFF1A${t.workflowDefinitionVersion} `,e("br"),`Instance Id\uFF1A${t.workflowInstanceId} `,e("br"),`Instance Priority\uFF1A${t.workflowInstancePriority} `])},{title:a("monitor.statistics.task_params"),key:"id",width:300,render:t=>e("div",[`DryRun\uFF1A${t.dryRun} `,e("br"),`Environment Code\uFF1A${t.environmentCode} `,e("br"),`Failure Strategy\uFF1A${t.failureStrategy} `,e("br"),`Task Depend Type\uFF1A${t.taskDependType} `])},{title:a("monitor.statistics.worker_info"),key:"id",width:220,render:t=>e("div",[`Worker Group\uFF1A${t.workerGroup} `,e("br"),`Tenant Code\uFF1A${t.tenantCode} `])},{title:a("monitor.statistics.warning_info"),key:"id",width:200,render:t=>e("div",[`Warning Group Id\uFF1A${t.warningGroupId} `,e("br"),`Warning Type\uFF1A${t.warningType} `])},{title:a("monitor.statistics.executor_id"),key:"executorId",...p.type},{title:a("monitor.statistics.time"),key:"startTime",width:280,render:t=>e("div",[`Start Time\uFF1A${t.startTime} `,e("br"),`Update Time\uFF1A${t.updateTime} `,e("br"),`Schedule Time\uFF1A${t.scheduleTime} `])}],r.tableWidth&&(r.tableWidth=D(r.columns))},o=()=>{if(i.loadingRef)return;i.loadingRef=!0;const r={pageSize:i.pageSize,pageNo:i.page},{state:t}=C($(r).then(l=>{i.totalPage=l.totalPage,i.tableData=l.totalList,i.loadingRef=!1}),{});return t},c=()=>{i.page=1,o()};return h(()=>{s(i),o()}),y(u().locale,()=>{s(i)}),{t:a,...k(i),getTableData:o,onUpdatePageSize:c}},render(){const{getTableData:a,onUpdatePageSize:i,loadingRef:s}=this;return n(d,{vertical:!0},{default:()=>[n(b,null,{default:()=>[n(d,{vertical:!0},{default:()=>[n(I,{size:"small",loading:s,columns:this.columns,scrollX:this.tableWidth,data:this.tableData},null),n(d,{justify:"center"},{default:()=>[n(S,{page:this.page,"onUpdate:page":o=>this.page=o,"page-size":this.pageSize,"onUpdate:page-size":o=>this.pageSize=o,"page-count":this.totalPage,"show-size-picker":!0,"page-sizes":[10,30,50],"show-quick-jumper":!0,onUpdatePage:a,onUpdatePageSize:i},null)]})]})]})]})}});export{Ct as default};
