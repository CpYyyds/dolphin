import{u,E as f,r as l,d as c,o as d,G as y,I as g,c as i}from"./index.02a17cf1.js";import{M as v}from"./index.08dd828f.js";import{m as h}from"./index.a8939d99.js";import{N as D}from"./Form.de76c832.js";import{N as C}from"./FormItem.aeb1ee46.js";import{N as I}from"./Input.59461546.js";import"./index.fe057c74.js";import"./Button.1b3ea9f7.js";import"./is-browser.e7afaa57.js";import"./use-form-item.96cfc8ba.js";import"./resolve-slot.92499a18.js";import"./Modal.920fa101.js";import"./keysOf.843c523b.js";import"./Card.f8db533a.js";import"./index.5f9a33e7.js";import"./index.8a81335d.js";import"./flatten.8ad131a2.js";import"./Scrollbar.988383de.js";import"./VResizeObserver.f80d6e55.js";import"./use-false-until-truthy.e57d8f60.js";import"./fade-in-scale-up.cssr.d8408fe5.js";import"./utils.eff12f29.js";import"./index.21198e00.js";import"./Space.8a344b95.js";import"./get-slot.eeb09d52.js";import"./service.ade35c11.js";import"./ui-setting.7e6814b1.js";import"./lodash.3a74b132.js";import"./format-length.a6a40b1f.js";import"./get.852d0cd9.js";import"./use-locale.47aab0f5.js";import"./use-merged-state.2bdc3563.js";import"./Suffix.62982c61.js";function _(){const{t}=u(),o=f({formRef:l(),formData:{queueId:0,priority:0},saving:!1,rules:{priority:{required:!0,trigger:["input","blur"],validator(){if(!(o.formData.priority+""&&o.formData.priority>=0))return new Error(t("resource.task_group_queue.priority_not_empty"))}}}});return{state:o,t}}const q={show:{type:Boolean,default:!1},data:{type:Object}},ir=c({name:"FormModal",props:q,emits:["confirm","cancel"],setup(t,{emit:o}){var m;const{state:r,t:e}=_();d(()=>{r.formData.queueId=t.data.queueId,r.formData.priority=t.data.priority});const a=async()=>{if(!r.saving){r.saving=!0;try{r.formData.priority+""&&(await h(r.formData),o("confirm")),r.saving=!1}catch{r.saving=!1}}},p=()=>{r.formData.priority=0,o("cancel")},s=(m=y())==null?void 0:m.appContext.config.globalProperties.trim;return{...g(r),t:e,onConfirm:a,onCancel:p,trim:s}},render(){const{t,onConfirm:o,onCancel:r,show:e}=this;return i(v,{title:t("resource.task_group_queue.edit_priority"),show:e,onConfirm:o,onCancel:r,confirmLoading:this.saving},{default:()=>[i(D,{rules:this.rules,ref:"formRef"},{default:()=>[i(C,{label:t("resource.task_group_queue.priority"),path:"priority"},{default:()=>[i(I,{allowInput:this.trim,value:this.formData.priority,"onUpdate:value":a=>this.formData.priority=a},null)]})]})]})}});export{ir as default};
