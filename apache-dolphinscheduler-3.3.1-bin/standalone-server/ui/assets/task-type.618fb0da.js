import{D as o}from"./index.02a17cf1.js";import{l as L}from"./lodash.3a74b132.js";const D=o({id:"project-task",state:()=>({preTaskOptions:[],postTaskOptions:[],preTasks:[],resources:[],mainJars:{},name:"",dependentResult:{}}),persist:!0,getters:{getPreTaskOptions(){return this.preTaskOptions},getPostTaskOptions(){return this.postTaskOptions},getPreTasks(){return this.preTasks},getResources(){return this.resources},getMainJar(a){return e=>a.mainJars[e]},getName(){return this.name},getDependentResult(){return this.dependentResult}},actions:{updateDefinition(a,e){if(!a)return;const{workflowTaskRelationList:t=[],taskDefinitionList:i=[]}=a,p=[],r={};if(i.forEach(s=>{r[s.code]=s.name,s.code!==e&&(s.taskType==="CONDITIONS"&&t.filter(l=>l.preTaskCode===s.code).length>=2||p.push({value:s.code,label:s.name}))}),this.preTaskOptions=L.exports.uniqBy(p,"value"),!e)return;const n=[],T=[];t.forEach(s=>{s.preTaskCode===e&&T.push({value:s.postTaskCode,label:r[s.postTaskCode]}),s.postTaskCode===e&&s.preTaskCode!==0&&(n.push(s.preTaskCode),this.preTaskOptions.find(l=>l.value===s.preTaskCode)||this.preTaskOptions.push({value:s.preTaskCode,label:r[s.preTaskCode]}))}),this.preTasks=n,this.postTaskOptions=T},updateResource(a){this.resources=a},updateMainJar(a,e){this.mainJars[a]=e},updateName(a){this.name=a},updateDependentResult(a){const e={};for(const[t,i]of Object.entries(a))e[t]=i==="FAILED"?"FAILURE":i;this.dependentResult=e},init(){this.preTaskOptions=[],this.postTaskOptions=[],this.preTasks=[],this.resources=[],this.mainJars={},this.name=""}}}),u={JAVA:{alias:"JAVA"},SHELL:{alias:"SHELL"},SUB_WORKFLOW:{alias:"SUB_WORKFLOW"},PROCEDURE:{alias:"PROCEDURE"},SQL:{alias:"SQL"},SPARK:{alias:"SPARK"},FLINK:{alias:"FLINK"},MR:{alias:"MapReduce",helperLinkDisable:!0},PYTHON:{alias:"PYTHON"},DEPENDENT:{alias:"DEPENDENT"},HTTP:{alias:"HTTP"},DATAX:{alias:"DataX"},SQOOP:{alias:"SQOOP",helperLinkDisable:!0},CONDITIONS:{alias:"CONDITIONS"},SWITCH:{alias:"SWITCH"},SEATUNNEL:{alias:"SeaTunnel",helperLinkDisable:!0},EMR:{alias:"AmazonEMR",helperLinkDisable:!0},ZEPPELIN:{alias:"ZEPPELIN",helperLinkDisable:!0},ALIYUN_SERVERLESS_SPARK:{alias:"ALIYUN_SERVERLESS_SPARK",helperLinkDisable:!0},JUPYTER:{alias:"JUPYTER",helperLinkDisable:!0},K8S:{alias:"K8S",helperLinkDisable:!0},MLFLOW:{alias:"MLFLOW",helperLinkDisable:!0},OPENMLDB:{alias:"OPENMLDB",helperLinkDisable:!0},DVC:{alias:"DVC",helperLinkDisable:!0},DINKY:{alias:"DINKY",helperLinkDisable:!0},SAGEMAKER:{alias:"SageMaker",helperLinkDisable:!0},CHUNJUN:{alias:"CHUNJUN",helperLinkDisable:!0},FLINK_STREAM:{alias:"FLINK_STREAM",helperLinkDisable:!0,taskExecuteType:"STREAM"},PYTORCH:{alias:"Pytorch",helperLinkDisable:!0},HIVECLI:{alias:"HIVECLI",helperLinkDisable:!0},DMS:{alias:"DMS",helperLinkDisable:!0},DATASYNC:{alias:"DATASYNC",helperLinkDisable:!0},KUBEFLOW:{alias:"KUBEFLOW",helperLinkDisable:!0},LINKIS:{alias:"LINKIS",helperLinkDisable:!0},DATA_FACTORY:{alias:"DATA_FACTORY",helperLinkDisable:!0},REMOTESHELL:{alias:"REMOTESHELL",helperLinkDisable:!0}};o({id:"project-task-type",state:()=>({types:[]}),persist:!0,getters:{getTaskType(){return this.types}},actions:{setTaskTypes(a){try{this.types=a.filter(e=>!!u[e]).map(e=>({...u[e],type:e}))}catch{this.types=[]}}}});export{u as T,D as u};
