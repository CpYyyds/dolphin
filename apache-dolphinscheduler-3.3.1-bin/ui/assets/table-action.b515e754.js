import{d as c,bb as p,b9 as m,ba as f,bH as h,I as w,u as g,c as e}from"./index.02a17cf1.js";import{F as S}from"./FormOutlined.0c6aa81a.js";import{S as C}from"./SyncOutlined.d69d028f.js";import{C as b}from"./CloseCircleOutlined.d6e82e31.js";import{P as u}from"./PlayCircleOutlined.66fb9fb6.js";import{P as k}from"./PauseCircleOutlined.6f50ffc5.js";import{D as v}from"./DeleteOutlined.d3b97bbb.js";import{C as E}from"./ControlOutlined.078243b3.js";import{N as o}from"./Tooltip.76a430fa.js";import{N as i}from"./Button.1b3ea9f7.js";import{N as n}from"./Icon.0cd298dd.js";import{N}from"./Popconfirm.98866df0.js";import{N as R}from"./Space.8a344b95.js";import"./Popover.92dc7b00.js";import"./index.8a81335d.js";import"./flatten.8ad131a2.js";import"./Scrollbar.988383de.js";import"./VResizeObserver.f80d6e55.js";import"./use-false-until-truthy.e57d8f60.js";import"./_baseMap.d8d47059.js";import"./get.852d0cd9.js";import"./cssr.f561ccf0.js";import"./utils.eff12f29.js";import"./format-length.a6a40b1f.js";import"./resolve-slot.92499a18.js";import"./use-merged-state.2bdc3563.js";import"./use-compitable.cd47f4ac.js";import"./next-frame-once.50ecadf2.js";import"./is-browser.e7afaa57.js";import"./use-form-item.96cfc8ba.js";import"./use-locale.47aab0f5.js";import"./keysOf.843c523b.js";import"./get-slot.eeb09d52.js";import"./index.5f9a33e7.js";const y={xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink",viewBox:"0 0 1024 1024"},O=f("path",{d:"M563.8 512l262.5-312.9c4.4-5.2.7-13.1-6.1-13.1h-79.8c-4.7 0-9.2 2.1-12.3 5.7L511.6 449.8L295.1 191.7c-3-3.6-7.5-5.7-12.3-5.7H203c-6.8 0-10.5 7.9-6.1 13.1L459.4 512L196.9 824.9A7.95 7.95 0 0 0 203 838h79.8c4.7 0 9.2-2.1 12.3-5.7l216.5-258.1l216.5 258.1c3 3.6 7.5 5.7 12.3 5.7h79.8c6.8 0 10.5-7.9 6.1-13.1L563.8 512z",fill:"currentColor"},null,-1),P=[O],U=c({name:"CloseOutlined",render:function(t,a){return p(),m("svg",y,P)}}),I={row:{type:Object,required:!0}},he=c({name:"TableAction",props:I,emits:["updateList","reRun","reStore","stop","suspend","deleteInstance"],setup(l,t){const a=h();return{handleEdit:()=>{a.push({name:"workflow-instance-detail",params:{id:l.row.id},query:{code:l.row.workflowDefinitionCode}})},handleReRun:()=>{t.emit("reRun")},handleReStore:()=>{t.emit("reStore")},handleStop:()=>{t.emit("stop")},handleSuspend:()=>{t.emit("suspend")},handleDeleteInstance:()=>{t.emit("deleteInstance")},handleGantt:()=>{a.push({name:"workflow-instance-gantt",params:{id:l.row.id},query:{code:l.row.workflowDefinitionCode}})},...w(l)}},render(){var a;const{t:l}=g(),t=(a=this.row)==null?void 0:a.state;return e(R,null,{default:()=>[e(o,{trigger:"hover"},{default:()=>l("project.workflow.edit"),trigger:()=>{var r;return e(i,{tag:"div",size:"small",type:"info",circle:!0,class:"btn-edit",disabled:t!=="SUCCESS"&&t!=="PAUSE"&&t!=="FAILURE"&&t!=="STOP"||((r=this.row)==null?void 0:r.disabled),onClick:this.handleEdit},{default:()=>[e(n,null,{default:()=>[e(S,null,null)]})]})}}),e(o,{trigger:"hover"},{default:()=>l("project.workflow.rerun"),trigger:()=>{var r;return e(i,{tag:"div",size:"small",type:"info",circle:!0,onClick:this.handleReRun,class:"btn-rerun",disabled:t!=="SUCCESS"&&t!=="PAUSE"&&t!=="FAILURE"&&t!=="STOP"||((r=this.row)==null?void 0:r.disabled)},{default:()=>{var s,d;return[((s=this.row)==null?void 0:s.buttonType)==="run"?e("span",null,[(d=this.row)==null?void 0:d.count]):e(n,null,{default:()=>[e(C,null,null)]})]}})}}),e(o,{trigger:"hover"},{default:()=>l("project.workflow.recovery_failed"),trigger:()=>{var r;return e(i,{tag:"div",size:"small",type:"primary",circle:!0,onClick:this.handleReStore,disabled:t!=="FAILURE"||((r=this.row)==null?void 0:r.disabled)},{default:()=>{var s,d;return[((s=this.row)==null?void 0:s.buttonType)==="store"?e("span",null,[(d=this.row)==null?void 0:d.count]):e(n,null,{default:()=>[e(b,null,null)]})]}})}}),e(o,{trigger:"hover"},{default:()=>l(t==="STOP"?"project.workflow.recovery_suspend":"project.workflow.stop"),trigger:()=>{var r;return e(i,{tag:"div",size:"small",type:"error",circle:!0,onClick:this.handleStop,disabled:t!=="RUNNING_EXECUTION"&&t!=="STOP"||((r=this.row)==null?void 0:r.disabled)},{default:()=>[e(n,null,{default:()=>[t==="STOP"?e(u,null,null):e(U,null,null)]})]})}}),e(o,{trigger:"hover"},{default:()=>l(t==="PAUSE"?"project.workflow.recovery_suspend":"project.workflow.pause"),trigger:()=>{var r;return e(i,{tag:"div",size:"small",type:"warning",circle:!0,disabled:t!=="RUNNING_EXECUTION"&&t!=="PAUSE"||((r=this.row)==null?void 0:r.disabled),onClick:this.handleSuspend},{default:()=>[e(n,null,{default:()=>[t==="PAUSE"?e(u,null,null):e(k,null,null)]})]})}}),e(o,{trigger:"hover"},{default:()=>l("project.workflow.delete"),trigger:()=>e(N,{onPositiveClick:this.handleDeleteInstance},{default:()=>l("project.workflow.delete_confirm"),trigger:()=>{var r;return e(i,{tag:"div",size:"small",type:"error",circle:!0,disabled:t!=="SUCCESS"&&t!=="FAILURE"&&t!=="STOP"&&t!=="PAUSE"||((r=this.row)==null?void 0:r.disabled)},{default:()=>[e(n,null,{default:()=>[e(v,null,null)]})]})}})}),e(o,{trigger:"hover"},{default:()=>l("project.workflow.gantt"),trigger:()=>{var r;return e(i,{tag:"div",size:"small",type:"info",circle:!0,disabled:(r=this.row)==null?void 0:r.disabled,onClick:this.handleGantt},{default:()=>[e(n,null,{default:()=>[e(E,null,null)]})]})}})]})}});export{he as default};
