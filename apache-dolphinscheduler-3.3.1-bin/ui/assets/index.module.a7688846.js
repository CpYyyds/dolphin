import{u as i,bU as w,h as p,r as c,o as d,H as _}from"./index.02a17cf1.js";import{A as f,a as m}from"./ArrowUpOutlined.5d908421.js";import{N as k}from"./Icon.0cd298dd.js";import{q as b}from"./index.7552dd4e.js";import{q as G}from"./index.e3e49908.js";function I(){const{t:e}=i(),s=w([{label:"HIGHEST",value:"HIGHEST",icon:f,color:"#ff0000"},{label:"HIGH",value:"HIGH",icon:f,color:"#ff0000"},{label:"MEDIUM",value:"MEDIUM",icon:f,color:"#EA7D24"},{label:"LOW",value:"LOW",icon:m,color:"#2A8734"},{label:"LOWEST",value:"LOWEST",icon:m,color:"#2A8734"}]),o=({node:n,option:r})=>p(n,null,{default:()=>[p(k,{color:r.color},{default:()=>p(r.icon)}),p("span",{style:{"z-index":1}},r.label)]});return{type:"select",field:"taskPriority",name:e("project.node.task_priority"),options:s,validate:{required:!0},props:{renderOption:o},value:"MEDIUM"}}function C(e){const{t:s}=i(),o=c([]),n=c(!1),r=async()=>{n.value||(n.value=!0,await b(e).then(l=>{o.value=l.data.map(u=>({label:u.workerGroup,value:u.workerGroup}))}),n.value=!1)};return d(()=>{r()}),{type:"select",field:"workerGroup",span:12,name:s("project.node.worker_group"),props:{loading:n},options:o,validate:{trigger:["input","blur"],required:!0,message:s("project.node.worker_group_tips")},value:o.value.length>0?o.value[0].value:""}}function H(e,s){const{t:o}=i();let n=[];const r=c([]),l=c(!1);let u=!1;const y=async()=>{if(l.value)return;l.value=!0,n=(await G()).map(t=>({label:t.name,value:t.code,workerGroups:t.workerGroups})),r.value=n.filter(t=>v(t)),l.value=!1,r.value.length===0?e.environmentCode=null:s&&!e.environmentCode&&(e.environmentCode=r.value[0].value)},v=a=>{var t;return!e.workerGroup||!((t=a==null?void 0:a.workerGroups)!=null&&t.length)?!1:a.workerGroups.indexOf(e.workerGroup)!==-1};return _(()=>e.workerGroup,()=>{!e.workerGroup||!u||(r.value=n.filter(a=>v(a)),e!=null&&e.environmentCode?r.value&&(r.value.find(t=>t.value===e.environmentCode)!==void 0||(e.environmentCode=null)):e.environmentCode=r.value.length===0?null:r.value[0].value)}),d(async()=>{await y(),u=!0}),{type:"select",field:"environmentCode",class:"env-select",span:12,name:o("project.node.environment_name"),props:{loading:l,clearable:!0},options:r}}function L(){const{t:e}=i();return[{type:"input-number",field:"failRetryTimes",name:e("project.node.number_of_failed_retries"),span:12,props:{min:0},slots:{suffix:()=>e("project.node.times")}},{type:"input-number",field:"failRetryInterval",name:e("project.node.failed_retry_interval"),span:12,props:{min:0},slots:{suffix:()=>e("project.node.minute")}}]}function M(){const{t:e}=i();return[{type:"input-number",field:"cpuQuota",name:e("project.node.cpu_quota"),span:12,slots:{suffix:()=>"%"},props:{min:-1}},{type:"input-number",field:"memoryMax",name:e("project.node.memory_max"),span:12,slots:{suffix:()=>e("project.node.mb")},props:{min:-1}}]}const O={"field-title":"_field-title_1hhfj_17","relaction-label":"_relaction-label_1hhfj_32","relaction-switch":"_relaction-switch_1hhfj_37","display-rows-tips":"_display-rows-tips_1hhfj_55"};export{C as a,H as b,L as c,M as d,O as s,I as u};
