import{D as p,q as n}from"./dag-sidebar.8b8a244d.js";import{D as l,u as e,N as d,a as h,b as g}from"./dag-canvas.58ea22ec.js";import{TaskForm as D}from"./index.11beeb9e.js";import{d as f,r as i,c as a,F as u}from"./index.02a17cf1.js";import"./service.ade35c11.js";import"./ui-setting.7e6814b1.js";import"./lodash.3a74b132.js";import"./StarOutlined.bba1a3a2.js";import"./Ellipsis.eed9f363.js";import"./Tooltip.76a430fa.js";import"./Popover.92dc7b00.js";import"./index.8a81335d.js";import"./flatten.8ad131a2.js";import"./Scrollbar.988383de.js";import"./VResizeObserver.f80d6e55.js";import"./use-false-until-truthy.e57d8f60.js";import"./_baseMap.d8d47059.js";import"./get.852d0cd9.js";import"./cssr.f561ccf0.js";import"./utils.eff12f29.js";import"./format-length.a6a40b1f.js";import"./resolve-slot.92499a18.js";import"./use-merged-state.2bdc3563.js";import"./use-compitable.cd47f4ac.js";import"./next-frame-once.50ecadf2.js";import"./Icon.0cd298dd.js";import"./index.7d2218cd.js";import"./toNumber.f676da43.js";import"./debounce.aab20534.js";import"./index.9b0cc109.js";import"./index.08dd828f.js";import"./index.fe057c74.js";import"./Button.1b3ea9f7.js";import"./is-browser.e7afaa57.js";import"./use-form-item.96cfc8ba.js";import"./Modal.920fa101.js";import"./keysOf.843c523b.js";import"./Card.f8db533a.js";import"./index.5f9a33e7.js";import"./fade-in-scale-up.cssr.d8408fe5.js";import"./index.21198e00.js";import"./Space.8a344b95.js";import"./get-slot.eeb09d52.js";import"./index.7b2dcdb8.js";import"./Form.de76c832.js";import"./FormItem.aeb1ee46.js";import"./Input.59461546.js";import"./use-locale.47aab0f5.js";import"./Suffix.62982c61.js";import"./Select.51d2f90f.js";import"./Empty.249462a1.js";const c={"workflow-dag":"_workflow-dag_e4c1u_17"},wo=f({name:"DynamicDag",setup(){const t=i(),m=i(),s=i(!1);return{draggedTask:t,formData:m,handelDragstart:r=>{t.value=r.name,n(r.json).then(o=>{m.value=o})},handelDrop:r=>{if(!t.value)return;const o=e().getDagTasks;o.push({id:String(o.length+1),x:r.offsetX,y:r.offsetY,width:d,height:h,shape:g,label:t.value.name+String(o.length+1),zIndex:1,task:t.value.name}),e().setDagTasks(o),s.value=!0},showModal:s}},render(){return a(u,null,[a("div",{class:c["workflow-dag"]},[a(p,{onDragstart:this.handelDragstart},null),a(l,{onDrop:this.handelDrop},null)]),this.draggedTask&&this.formData&&a(D,{task:this.draggedTask,formData:this.formData,showModal:this.showModal,onCancelModal:()=>this.showModal=!1,onConfirmModal:()=>this.showModal=!1},null)])}});export{wo as DynamicDag};
